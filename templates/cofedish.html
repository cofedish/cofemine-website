<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>COFEDISH ‚Äî CofeMine</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/cofedish.css') }}">
</head>
<body>
  <header>
    <a href="{{ url_for('home') }}">‚Üê –ù–∞–∑–∞–¥</a>
    <h1>COFEDISH</h1>
  </header>

  <main>
    <img src="{{ url_for('static', filename='img/devops.jpg') }}"
         alt="COFEDISH" class="profile-img">

    <p>DevOps –∫—É—Ä–∏–ª—å—â–∏–∫–∞, –≤–∏–∑–∏—Ç–∫–∞ –∑–∞ –Ω–æ—á—å.</p>

    <h2>–ó–∞—Ü–µ–Ω–∏—Ç–µ –∫–∞–∫—É—é —Ö—É–π–Ω—é —Å–¥–µ–ª–∞–ª</h2>

    <div class="meme-frame">
      <video id="meme-video"
             controls autoplay loop>
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
      </video>
    </div>

    <p class="caption">–ß–µ–º —è –±–ª—è—Ç—å –∑–∞–Ω–∏–º–∞—é—Å—å –≤ 4 —É—Ç—Ä–∞...üòÖ</p>
  </main>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    fetch('/api/memes/cofedish')
      .then(res => res.json())
      .then(list => {
        if (!list.length) return;
        const file = list[Math.floor(Math.random() * list.length)];
        const videoEl = document.getElementById('meme-video');
        videoEl.src = `/static/videos/memes/cofedish/${file}`;
        videoEl.load();
        videoEl.muted  = false;
        videoEl.volume = 0.2;
      })
      .catch(console.error);
  });
  </script>
</body>
</html>
